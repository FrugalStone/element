<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Responsive Navigation bar</title>



    <script src="https://code.jquery.com/jquery-3.6.3.min.js"
        integrity="sha256-pvPw+upLPUjgMXY0G+8O0xUf+/Im1MZjXxxgOcBQBXU=" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.3.0/css/all.min.css"
        referrerpolicy="no-referrer" />


    <link rel="stylesheet" href="styles/elem.css">

    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/css/bootstrap.min.css"
        integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

    <!-- Optional theme -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/css/bootstrap-theme.min.css"
        integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">

    <!-- Latest compiled and minified JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/js/bootstrap.min.js"
        integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa"
        crossorigin="anonymous"></script>

    <script src="https://unpkg.com/mustache@latest"></script>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>

<body>
    <%- include('../utils/nav-bars/studentNavBar.ejs', { active: 'select-elective' }) %>

    <% if (isRegisOpen) { %>

        <div class="con-row">
            <div class="con-card card1">
                <h2 class="m-t-10px">Select Electives</h2>

                <div class="filter-flex">
                    <div class="filter-card">
                        <div class="filter-card-content">
                            <div>Type of course</div>
                            <div class="checkboxes">
                                <label>
                                    <div class="check-box">
                                        <input class="form-check-input" type="checkbox" value="" id="type-lab" checked>
                                        <div class="check-desc">Lab</div>
                                    </div>
                                </label>
                                <label>
                                    <div class="check-box">
                                        <input class="form-check-input" type="checkbox" value="" id="type-project" checked>
                                        <div class="check-desc">Project</div>
                                    </div>
                                </label>
                                <label>
                                    <div class="check-box">
                                        <input class="form-check-input" type="checkbox" value="" id="type-theory" checked>
                                        <div class="check-desc">Theory</div>
                                    </div>
                                </label>
                            </div>
                        </div>
                    </div>
                    <div class="filter-card">
                        <div class="filter-card-content">
                            <div>Credits</div>
                            <div class="checkboxes">
                                <label>
                                    <div class="check-box">
                                        <input class="form-check-input" type="checkbox" value="" id="cr-1" checked>
                                        <div class="check-desc">1</div>
                                    </div>
                                </label>
                                <label>
                                    <div class="check-box">
                                        <input class="form-check-input" type="checkbox" value="" id="cr-2" checked>
                                        <div class="check-desc">2</div>
                                    </div>
                                </label>
                                <label>
                                    <div class="check-box">
                                        <input class="form-check-input" type="checkbox" value="" id="cr-3" checked>
                                        <div class="check-desc">3</div>
                                    </div>
                                </label>
                                <label>
                                    <div class="check-box">
                                        <input class="form-check-input" type="checkbox" value="" id="cr-4" checked>
                                        <div class="check-desc">4</div>
                                    </div>
                                </label>
                            </div>
                        </div>
                    </div>
                    <button type="button" class="btn" id="filterButton">Filter</button>
                </div>

                <div class="accordion m-5pr" id="accordionExample">

                    <div class="card m-b-15px">
                        <div class="card-header myCard">
                            <div class="main-tile-flex">
                                <div class="tile-con-flex">
                                    <input class="form-check-input" style="margin: 0; margin-right: 20px;" type="checkbox"
                                        value="" id="CSE311">
                                    <p class="m-0">CSE311:</p>
                                </div>
                                <div class="empty" id="headingOne" data-toggle="collapse" data-target="#c1"
                                    aria-expanded="false" aria-controls="c1">
                                    Computer Security</div>
                                <button class="btn bg-red collapsed" type="button" data-toggle="collapse" data-target="#c1"
                                    aria-expanded="false" aria-controls="c1">
                                    <i class="fa fa-angle-down"></i>
                            </div>
                        </div>
                        <div id="c1" class="collapse" aria-labelledby="headingOne" data-parent="#accordionExample">
                            <div class="hidden-content card-body">
                                <div class="hidden-content-row-1">
                                    <p class="m-0"> <span class="badge alert-info">Lab-Based
                                            Course</span></p>
                                    <p class="m-0">Credits: <span class="badge alert-danger">4</span></p>
                                </div>
                                <h5 class="bold">Overview:</h5>
                                <p class="small">
                                    It provides an overview of the field of security and assurance
                                    emphasizing the need to
                                    protect information
                                    being transmitted electronically
                                </p>
                                <h5 class="bold">Pre-Requisites:</h5>
                                <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Rem,
                                    iure.</p>
                                <h5 class="bold">Course outcomes:</h5>
                                <ul class="small m-5pr">
                                    <li>CO1: Understand the fundamental concepts of computer
                                        security and apply to different
                                        components of computing systems</li>
                                    <li>CO2: Understand basic cryptographic techniques. </li>
                                    <li>CO3: Understand how malicious attacks, threats, security and
                                        protocol
                                        vulnerabilities impact a system's Infrastructure.</li>
                                    <li>CO4: Demonstrate knowledge in terms of relevance and
                                        potential of computer security
                                        for a given application.</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <div class="card m-b-15px">
                        <div class="card-header myCard">
                            <div class="main-tile-flex">
                                <div class="tile-con-flex">
                                    <input class="form-check-input" style="margin: 0; margin-right: 20px;" type="checkbox"
                                        value="" id="CSE311">
                                    <p class="m-0">CSE311:</p>
                                </div>
                                <div class="empty" id="headingOne" data-toggle="collapse" data-target="#c2"
                                    aria-expanded="false" aria-controls="c2">
                                    Computer Security</div>
                                <button class="btn bg-red collapsed" type="button" data-toggle="collapse" data-target="#c2"
                                    aria-expanded="false" aria-controls="c2">
                                    <i class="fa fa-angle-down"></i>
                            </div>
                        </div>
                        <div id="c2" class="collapse" aria-labelledby="headingOne" data-parent="#accordionExample">
                            <div class="hidden-content card-body">
                                <div class="hidden-content-row-1">
                                    <p class="m-0"> <span class="badge alert-info">Lab-Based
                                            Course</span></p>
                                    <p class="m-0">Credits: <span class="badge alert-danger">4</span></p>
                                </div>
                                <h5 class="bold">Overview:</h5>
                                <p class="small">
                                    It provides an overview of the field of security and assurance
                                    emphasizing the need to
                                    protect information
                                    being transmitted electronically
                                </p>
                                <h5 class="bold">Pre-Requisites:</h5>
                                <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Rem,
                                    iure.</p>
                                <h5 class="bold">Course outcomes:</h5>
                                <ul class="small m-5pr">
                                    <li>CO1: Understand the fundamental concepts of computer
                                        security and apply to different
                                        components of computing systems</li>
                                    <li>CO2: Understand basic cryptographic techniques. </li>
                                    <li>CO3: Understand how malicious attacks, threats, security and
                                        protocol
                                        vulnerabilities impact a system's Infrastructure.</li>
                                    <li>CO4: Demonstrate knowledge in terms of relevance and
                                        potential of computer security
                                        for a given application.</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <div class="card m-b-15px">
                        <div class="card-header myCard">
                            <div class="main-tile-flex">
                                <div class="tile-con-flex">
                                    <input class="form-check-input" style="margin: 0; margin-right: 20px;" type="checkbox"
                                        value="" id="CSE311">
                                    <p class="m-0">CSE311:</p>
                                </div>
                                <div class="empty" id="headingOne" data-toggle="collapse" data-target="#c3"
                                    aria-expanded="false" aria-controls="c3">
                                    Computer Security</div>
                                <button class="btn bg-red collapsed" type="button" data-toggle="collapse" data-target="#c3"
                                    aria-expanded="false" aria-controls="c3">
                                    <i class="fa fa-angle-down"></i>
                            </div>
                        </div>
                        <div id="c3" class="collapse" aria-labelledby="headingOne" data-parent="#accordionExample">
                            <div class="hidden-content card-body">
                                <div class="hidden-content-row-1">
                                    <p class="m-0"> <span class="badge alert-info">Lab-Based
                                            Course</span></p>
                                    <p class="m-0">Credits: <span class="badge alert-danger">4</span></p>
                                </div>
                                <h5 class="bold">Overview:</h5>
                                <p class="small">
                                    It provides an overview of the field of security and assurance
                                    emphasizing the need to
                                    protect information
                                    being transmitted electronically
                                </p>
                                <h5 class="bold">Pre-Requisites:</h5>
                                <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Rem,
                                    iure.</p>
                                <h5 class="bold">Course outcomes:</h5>
                                <ul class="small m-5pr">
                                    <li>CO1: Understand the fundamental concepts of computer
                                        security and apply to different
                                        components of computing systems</li>
                                    <li>CO2: Understand basic cryptographic techniques. </li>
                                    <li>CO3: Understand how malicious attacks, threats, security and
                                        protocol
                                        vulnerabilities impact a system's Infrastructure.</li>
                                    <li>CO4: Demonstrate knowledge in terms of relevance and
                                        potential of computer security
                                        for a given application.</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
            <div class="con-card card2">
                Hello again
            </div>
        </div>

    <% } else { %>
        <div>Registrations not open Yet</div>
    <% } %>

    <script id="electiveTile" type="text/x-handlebars-template">
        <div class="card m-b-15px">
            <div class="card-header myCard">
                <div class="main-tile-flex">
                    <div class="tile-con-flex">
                        <input class="form-check-input" style="margin: 0; margin-right: 20px;" type="checkbox" value=""
                            id="{{ courseCode }}">
                        <p class="m-0">{{ courseCode }}:</p>
                    </div>
                    <div class="empty" id="headingOne" data-toggle="collapse" data-target="#{{ target }}" aria-expanded="false"
                        aria-controls="{{ target }}">{{ courseName }}</div>
                    <button class="btn bg-red collapsed" type="button" data-toggle="collapse" data-target="#{{ target }}"
                        aria-expanded="false" aria-controls="{{ target }}">
                        <i class="fa fa-angle-down"></i>
                </div>
            </div>
            <div id="{{ target }}" class="collapse" aria-labelledby="headingOne" data-parent="#accordionExample">
                <div class="hidden-content card-body">
                    <div class="hidden-content-row-1">
                        <p class="m-0"> <span class="badge alert-info">{{ courseType }}-Based Course</span></p>
                        <p class="m-0">Credits: <span class="badge alert-danger">{{ courseCredits }}</span></p>
                    </div>
                    <h5 class="bold">Overview:</h5>
                    <p class="small">
                        {{ courseOverview }}
                    </p>
                    <h5 class="bold">Pre-Requisites:</h5>
                    <p>
                      {{#coursePreRequisites}}
                        {{.}}{{#isLast}}{{else}}, {{/isLast}}
                      {{/coursePreRequisites}}
                    </p>
                    <h5 class="bold">Course outcomes:</h5>
                    <ul class="small m-5pr">
                      {{#courseOutcomes}}
                        <li>{{.}}</li>
                      {{/courseOutcomes}}
                    </ul>
                </div>
            </div>
        </div>
    </script>

    <script>
        $(document).ready(function () {
            $(".mobile-nav i").click(function () {
                $(".menu").toggleClass('mobile-menu');
            });
        })

        const filterButton = document.getElementById('filterButton');
        filterButton.addEventListener('click', filter);
        filter();

        function filter() {
            const courses = [
                {
                    courseCode: 'CSE101',
                    courseName: 'Introduction to Computer Science',
                    courseType: 'Theory',
                    courseCredits: 2,
                    courseOverview: 'This course provides an introduction to the fundamentals of computer science...',
                    coursePreRequisites: ['MAT101', 'MAT102'],
                    courseOutcomes: ['CO1: Understand basic programming concepts', 'CO2: Apply problem-solving skills in programming'],
                },
                {
                    courseCode: 'CSE201',
                    courseName: 'Data Structures and Algorithms',
                    courseType: 'Theory',
                    courseCredits: 2,
                    courseOverview: 'This course covers data structures and algorithms...',
                    coursePreRequisites: ['CSE101'],
                    courseOutcomes: ['CO1: Analyze and implement various data structures', 'CO2: Design efficient algorithms'],
                },
                {
                    courseCode: 'CSE301',
                    courseName: 'Database Management Systems',
                    courseType: 'Project',
                    courseCredits: 3,
                    courseOverview: 'This course focuses on the design and implementation of database systems...',
                    coursePreRequisites: ['CSE201'],
                    courseOutcomes: ['CO1: Understand the principles of database management systems', 'CO2: Design and query databases'],
                },
                {
                    courseCode: 'CSE401',
                    courseName: 'Software Engineering',
                    courseType: 'Lab',
                    courseCredits: 3,
                    courseOverview: 'This course covers the principles and practices of software engineering...',
                    coursePreRequisites: ['CSE201'],
                    courseOutcomes: ['CO1: Apply software engineering methodologies', 'CO2: Collaborate in a team-based software development project'],
                },
            ];

            const lab = document.getElementById('type-lab').checked;
            const project = document.getElementById('type-project').checked;
            const theory = document.getElementById('type-theory').checked;
            const cr1 = document.getElementById('cr-1').checked;
            const cr2 = document.getElementById('cr-2').checked;
            const cr3 = document.getElementById('cr-3').checked;
            const cr4 = document.getElementById('cr-4').checked;
            const creditsList = [cr1, cr2, cr3, cr4];
            const typeLists = {
                "Lab": lab,
                "Project": project,
                "Theory": theory
            };

            function satisfies(type, credits) {
                return typeLists[type] && creditsList[credits - 1];
            }

            const targetElement = document.getElementById('accordionExample');
            targetElement.innerHTML = '';

            for (let i = 0; i < courses.length; i++) {
                const course = courses[i];
                if (satisfies(course.courseType, course.courseCredits)) {
                    var data = course;
                    data["target"] = "c"+(i+1).toString();
                    var template = $('#electiveTile').html();
                    var result = Mustache.render(template, data);
                    targetElement.innerHTML += result;
                }
            }
        }

    </script>
</body>